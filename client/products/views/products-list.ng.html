<!-- <form>
  <label>Name</label>
  <input ng-model="newProduct.name">
  <label>Description</label>
  <input ng-model="newProduct.description">
  <button ng-click="newProduct.price = 200; products.save(newProduct)">Add</button>
</form> -->
<!-- <meteor-include src="imageUpload"></meteor-include> -->

<!-- <meteor-include src="insertProductForm"></meteor-include> -->
<ul>
  <li ng-repeat="product in products">
    <img ng-src="{{product.thumb}}" ng-show="product.thumb">
    <h2><a href="/product/{{product._id}}">{{product.name}}</a></h2>
    <p>{{product.price | currency}}</p>
    <p>{{product.description}}</p>
    <hr>
    <p><strong>Admin stuff</strong><br>
      published: {{product.published}}
    </p>
    <button ng-click="remove(product)" ng-if="currentUser && hasRole(currentUser, 'admin')">X</button>
    <button data-reveal-id="{{product._id}}" class="radius button">Add To Cart</button>

    <div id="{{product._id}}" class="reveal-modal" data-reveal aria-labelledby="firstModalTitle" aria-hidden="true" role="dialog">
      <h2 id="firstModalTitle">Ordering {{product.name}}</h2>
      <form name="orderForm">
        <fieldset>
          <!-- Qty -->
          <div class="row">
            <div class="small-12 columns">
              <div class="row">
                <div class="small-3 columns">
                  <label for="qty" class="right inline">Quantity</label>
                </div>
                <div class="small-9 columns">
                  <input type="number" name="qty" ng-model="qty" required>
                  <div ng-if="orderForm.qty.$invalid && orderForm.qty.$dirty">
                    <span ng-if="orderForm.name.$error.required">Please tell us how many you want.</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- duration -->
          <div class="row">
            <div class="small-12 columns">
              <label>Select How long you'd like to subscribe to this product</label>
              <input type="radio" name="duration" ng-model="duration" ng-value="{weeks: 1}" id="oneWeek"><label for="oneWeek">One Week</label>
              <input type="radio" name="duration" ng-model="duration" ng-value="{weeks: 2}" id="twoWeeks"><label for="twoWeeks">Two Weeks</label>
              <input type="radio" name="duration" ng-model="duration" ng-value="{weeks: 4}" id="oneMonth"><label for="oneMonth">Four Weeks</label>
              <input type="radio" name="duration" ng-model="duration" ng-value="{weeks: 8}" id="twoMonths"><label for="twoMonths">Eight Weeks</label>
              <input type="radio" name="duration" ng-model="duration" value="INDEFINATE" id="indefinate" checked><label for="indefinate">Repeat Indefinitely</label>
            </div>
          </div>

        </fieldset>
      </form>
      <p><a href="#" ng-click="addToCart(product, qty, duration)" class="secondary button">Add To Cart</a></p>
      <a class="close-reveal-modal" aria-label="Close">&#215;</a>
    </div>

  </li>
</ul>
