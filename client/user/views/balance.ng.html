<div layout="column" layout-align="center center" ng-if="!currentUser">
  <h2> Please login to see this page</h2>
</div>

<div layout="column" layout-align="center center" ng-if="currentUser">
  <md-toolbar class="md-tall md-primary md-hue-3" layout="row">
    <span flex></span>
    <h1 class="md-display-3" flex="90">
      Balance: {{currentUser.profile.balance | currency}}
    </h1>
    <span flex></span>
  </md-toolbar>
</div>

<div flex="90" flex-md=100 flex-sm=100>
  <h1 class="text-center"> Transaction History </h1>

  <md-list>
    <md-divider></md-divider>
    <md-subheader class="md-no-sticky">Transactions Total: {{ctrl.total | currency}}</md-subheader>
    <md-list-item ng-repeat="order in ctrl.orders|orderBy:'dateCreated':true track by order._id" class="md-2-line">
      <md-icon md-svg-icon="editor:ic_attach_money_24px"></md-icon>
      <div class="md-list-item-text" layout="column">
        <h3>{{order.orderTotal | currency}} <span ng-if="order.orderTotal !== order.transactionTotal">paid {{order.transactionTotal | currency}}</span></h3>
        <p> Status: {{order.status}} {{order.dateCreated | date: 'EEE dd/MM/yy'}}</p>
      </div>
    </md-list-item>
  </md-list>
</div>
